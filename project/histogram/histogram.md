# 直方图公式
对于离散值，我们处理其概率直方图与求和来替代处理概率密度函数与积分
那么一幅数字图像中灰度级$r_k$出现的概率近似为
$$ p_r(r_k) = \frac{n_k}{MN} , k=0,1,2...L-1$$
其中MN是像素总数，$n_k$是灰度为$r_k$的像素个数，L是图像中可能的灰度级数量。
变换函数为：
$$ s_k = T(r_k) = (L-1)\sum^{k}_{j = 0}{p_r(r_j)}= \frac{(L-1)}{MN}\sum^{r}_{r=0} {n_j}, k = 0,1..L-1$$

对sk取整数后， 即得到灰度映射 $r_k -> s_k$